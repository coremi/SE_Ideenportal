<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                template="./layout.xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <ui:define name="content">
        <h1>
            Neue Idee
        </h1>
        <h:form>
            <div class="row">
                <h:outputLabel value="#{bundle.CreateIdeeLabel_titel}" for="titel" class="label"/>
                <h:inputText id="titel" value="#{ideeController.selected.titel}" title="#{bundle.CreateIdeeTitle_titel}" class="form-control" />                    
            </div>
            <div class="row">
                <h:outputLabel value="#{bundle.CreateIdeeLabel_beschreibung}" for="beschreibung" class="label" />
                <h:inputTextarea rows="4" cols="20" id="beschreibung" value="#{ideeController.selected.beschreibung}" title="#{bundle.CreateIdeeTitle_beschreibung}" class="form-control" />                                     
            </div>
            <!-- update idee in database, redirect to idea.xhtml -->
            <h:commandLink action="#{ideeController.update}" value="Speichern" class="button r" />
            <!-- redirect to idea.xhtml, without changing the database entry -->
            <h:commandLink action="#{ideeController.showIdee(ideeController.selected.id)}" value="Abbrechen" class="button r" />
            <br/><br/><br/><br/>
            <!-- Angehängte Bilder auflisten -->
            Angehängte Bilder:
            <c:forEach var="bilder" items="#{ideeController.selected.bilder}">
                <br/>
                Titel: ${bilder.titel} url: ${bilder.url} <h:commandLink action="#{ideeController.removeBild(bilder)}" value="Remove" />
            </c:forEach>            
            <!-- redirect to add_bild.xhtml -->
            <h:commandLink action="#{bildController.newBild()}" value="Bild hinzufügen" class="button r" />
        </h:form>
    </ui:define>
</ui:composition>
